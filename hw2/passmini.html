<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Homework 2</title>
        <link rel="stylesheet" href="password.css">
    </head>

    <body>
        <form id="functionForm" onsubmit="return false"></form>

        <script>
            
            var userForm=document.getElementById("functionForm"),formHeader=document.createElement("header");formHeader.innerHTML="Enter a Username and a Strong Password";var uNameDiv=document.createElement("div");uNameDiv.setAttribute("id","uNameDiv"),uNameDiv.setAttribute("class","text");var uNameLabel=document.createElement("label");uNameLabel.setAttribute("for","uName"),uNameLabel.innerHTML="Enter a Username";var uNameInput=document.createElement("input");uNameInput.setAttribute("type","text"),uNameInput.setAttribute("id","uName"),uNameInput.setAttribute("name","uName"),uNameInput.required=!0,uNameDiv.appendChild(uNameLabel),uNameDiv.appendChild(uNameInput);var pWordDiv=document.createElement("div");pWordDiv.setAttribute("id","pWord1Div"),pWordDiv.setAttribute("class","text");var pWordLabel=document.createElement("label");pWordLabel.setAttribute("for","pWord1"),pWordLabel.innerHTML="Enter a Password";var pWordInput=document.createElement("input");pWordInput.setAttribute("type","password"),pWordInput.setAttribute("id","pWord1"),pWordInput.setAttribute("name","pWord1"),pWordInput.required=!0,pWordDiv.appendChild(pWordLabel),pWordDiv.appendChild(pWordInput);var pWordDiv2=document.createElement("div");pWordDiv2.setAttribute("id","pWord2Div"),pWordDiv2.setAttribute("class","text");var pWordLabel2=document.createElement("label");pWordLabel2.setAttribute("for","pWord2"),pWordLabel2.innerHTML="Re-enter Previous Password";var pWordInput2=document.createElement("input");pWordInput2.setAttribute("type","password"),pWordInput2.setAttribute("id","pWord2"),pWordInput2.setAttribute("name","pWord2"),pWordInput2.required=!0,pWordDiv2.appendChild(pWordLabel2),pWordDiv2.appendChild(pWordInput2);var sInputDiv=document.createElement("div");sInputDiv.setAttribute("id","buttons");var sInput=document.createElement("input");sInput.setAttribute("type","submit"),sInput.setAttribute("id","submit"),sInput.setAttribute("name","submit");var generatePassword=document.createElement("input");generatePassword.setAttribute("type","button"),generatePassword.setAttribute("id","generate"),generatePassword.setAttribute("name","generate"),generatePassword.setAttribute("value","Make Random Password"),sInputDiv.appendChild(sInput),sInputDiv.appendChild(generatePassword);var errorMessage=document.createElement("p");function validPassword(e){let t=document.getElementById("pWord1").value,r=document.getElementById("pWord2").value,a=0,n,d=0,s=0,o=0,i=0,p=0,u=0,l=0;for(let m=0;m<t.length;m++)(n=t.charAt(m))>="0"&&n<="9"?0==m||m==t.length?i++:(i++,u++):n>="a"&&n<="z"?o++:n>="A"&&n<="Z"?s++:0==m||m==t.length?p++:(p++,l++);return(a+=4*(d=parseInt(t.length)),s>0&&(a+=(d-s)*2),o>0&&(a+=(d-o)*2),i>0&&0==o&&0==s&&0==p?a+=0:a+=4*i,a+=6*p,a+=(u+l)*2,t===r)?(a>0&&a<=30?(document.getElementById("errorMessage").innerHTML="Password is weak",document.getElementById("errorMessage").style.color="rgb(255, 0, 0)"):a>30&&a<=60?(document.getElementById("errorMessage").innerHTML="Password is okay",document.getElementById("errorMessage").style.color="rgb(255, 217, 0)"):a>60&&(document.getElementById("errorMessage").innerHTML="Password is strong",document.getElementById("errorMessage").style.color="rgb(0, 255, 0)"),!0):(document.getElementById("errorMessage").innerHTML="Passwords Do Not Match",document.getElementById("errorMessage").style.color="rgb(255, 217, 0)",!1)}errorMessage.setAttribute("id","errorMessage"),userForm.appendChild(formHeader),userForm.appendChild(uNameDiv),userForm.appendChild(pWordDiv),userForm.appendChild(pWordDiv2),userForm.appendChild(sInputDiv),userForm.appendChild(errorMessage),document.getElementById("generate").addEventListener("click",function(e){for(var t="",r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*_-?",a=Math.floor(23*Math.random())+8,n=0;n<=60;){for(var d=0;d<a;d++)t+=r.charAt(Math.floor(Math.random()*r.length));let s,o=0,i=0,p=0,u=0,l=0,m=0,$=0;for(let v=0;v<t.length;v++)(s=t.charAt(v))>="0"&&s<="9"?0==v||v==t.length?u++:(u++,m++):s>="a"&&s<="z"?p++:s>="A"&&s<="Z"?i++:0==v||v==t.length?l++:(l++,$++);n+=4*(o=parseInt(t.length)),i>0&&(n+=(o-i)*2),p>0&&(n+=(o-p)*2),u>0&&0==p&&0==i&&0==l?n+=0:n+=4*u,n+=6*l,n+=(m+$)*2}alert("Recommended password is: "+t+"\nStrength = "+n)}),document.getElementById("submit").addEventListener("click",validPassword);

        </script>

    </body>
</html>